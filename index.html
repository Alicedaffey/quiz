<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <title>おみくじ</title>
      <link rel="stylesheet" href="https://alicedaffey.github.io/quiz/style.css">
    </head>
    <body>
      <div id="omikuji">おみくじ</div>
      <h1>クイズ</h1>
      <h2 id="question">ここに入力</h2>

      <ul>
        <li id="ans1">選択肢1</li>
        <li id="ans2">選択肢2</li>
        <li id="ans3">選択肢3</li>
      </ul>
      <div id="btn">
        <button type="button" id="answer1" onClick="answerCheck(1)">回答1</button>
        <button type="button" id="answer2" onClick="answerCheck(2)">回答2</button>
        <button type="button" id="answer3" onClick="answerCheck(3)">回答3</button>
      </div>
      <script>
         const btn = document.getElementById('omikuji');
         let question= [["山形の県庁は？","1.東根市","2.山形市","3.彦根市","3"],
                       ["山形の県庁は？","1.東根市","2.山形市","3.彦根市","1"],
                       ["山形の県庁は？","1.東根市","2.山形市","3.彦根市","2"]];

        btn.addEventListener('click', function() {
            const result = ['大吉','中吉','小吉','吉','凶','大凶'];
            const number = Math.floor(Math.random() * result.length);
       btn.textContent = result[number];
       });
//console.log(quesiton[0][0]);

         let quiz = document.getElementById('question');
         let ans1 = document.getElementById('ans1');
         let ans2 = document.getElementById('ans2');
         let ans3 = document.getElementById('ans3');
  
    let correct = 0;
    let quizCnt = 0;
     function quizSet(){
      quiz.textContent = question[quizCnt][0];
      ans1.textContent = question[quizCnt][1];
      ans2.textContent = question[quizCnt][2];
      ans3.textContent = question[quizCnt][3];
     }
    quizSet();

     function answerCheck(ans){
       if(ans == question[quizCnt][4]) {
           alert("正解!!");
           correct++;
       } else {
           alert("不正解");
       }
       quizCnt++
       if(quizCnt == question.length) {
          quiz.textContent = `正解数は${correct}でした!`;
          ans1.textContent = "";
          ans2.textContent = "";
          ans3.textContent = "";
       } else {
         quizSet();
      }
    }
      </script>
    </body>
</html>
